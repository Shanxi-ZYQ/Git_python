
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>tkinter —— Tcl/Tk 的 Python 接口 &#8212; Python 3.10.1 文档</title><meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <link rel="stylesheet" href="../_static/pydoctheme.css?2021.11.1" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/language_data.js"></script>
    <script src="../_static/translations.js"></script>
    
    <script src="../_static/sidebar.js"></script>
    
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Python 3.10.1 文档 中搜索"
          href="../_static/opensearch.xml"/>
    <link rel="author" title="关于这些文档" href="../about.html" />
    <link rel="index" title="索引" href="../genindex.html" />
    <link rel="search" title="搜索" href="../search.html" />
    <link rel="copyright" title="版权所有" href="../copyright.html" />
    <link rel="next" title="tkinter.colorchooser --- 颜色选择对话框" href="tkinter.colorchooser.html" />
    <link rel="prev" title="Tk图形用户界面(GUI)" href="tk.html" />
    <link rel="canonical" href="https://docs.python.org/3/library/tkinter.html" />
    
      
    

    
    <style>
      @media only screen {
        table.full-width-table {
            width: 100%;
        }
      }
    </style>
<link rel="shortcut icon" type="image/png" href="../_static/py.svg" />
            <script type="text/javascript" src="../_static/copybutton.js"></script>
            <script type="text/javascript" src="../_static/menu.js"></script> 

  </head>
<body>
<div class="mobile-nav">
    <input type="checkbox" id="menuToggler" class="toggler__input" aria-controls="navigation"
           aria-pressed="false" aria-expanded="false" role="button" aria-label="Menu" />
    <label for="menuToggler" class="toggler__label">
        <span></span>
    </label>
    <nav class="nav-content" role="navigation">
         <a href="https://www.python.org/" class="nav-logo">
             <img src="../_static/py.svg" alt="Logo"/>
         </a>
        <div class="version_switcher_placeholder"></div>
        <form role="search" class="search" action="../search.html" method="get">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" class="search-icon">
                <path fill-rule="nonzero"
                        d="M15.5 14h-.79l-.28-.27a6.5 6.5 0 001.48-5.34c-.47-2.78-2.79-5-5.59-5.34a6.505 6.505 0 00-7.27 7.27c.34 2.8 2.56 5.12 5.34 5.59a6.5 6.5 0 005.34-1.48l.27.28v.79l4.25 4.25c.41.41 1.08.41 1.49 0 .41-.41.41-1.08 0-1.49L15.5 14zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z" fill="#444"></path>
            </svg>
            <input type="text" name="q" aria-label="快速搜索"/>
            <input type="submit" value="转向"/>
        </form>
    </nav>
    <div class="menu-wrapper">
        <nav class="menu" role="navigation" aria-label="main navigation">
            <div class="language_switcher_placeholder"></div>
  <h3><a href="../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code> —— Tcl/Tk 的 Python 接口</a><ul>
<li><a class="reference internal" href="#architecture">架构</a></li>
<li><a class="reference internal" href="#tkinter-modules">Tkinter 模块</a></li>
<li><a class="reference internal" href="#tkinter-life-preserver">Tkinter 拾遗</a><ul>
<li><a class="reference internal" href="#a-hello-world-program">A Hello World Program</a></li>
<li><a class="reference internal" href="#important-tk-concepts">Important Tk Concepts</a></li>
<li><a class="reference internal" href="#understanding-how-tkinter-wraps-tcl-tk">Understanding How Tkinter Wraps Tcl/Tk</a></li>
<li><a class="reference internal" href="#how-do-i-what-option-does">How do I...? What option does...?</a></li>
<li><a class="reference internal" href="#navigating-the-tcl-tk-reference-manual">Navigating the Tcl/Tk Reference Manual</a></li>
</ul>
</li>
<li><a class="reference internal" href="#threading-model">线程模型</a></li>
<li><a class="reference internal" href="#handy-reference">快速参考</a><ul>
<li><a class="reference internal" href="#setting-options">可选配置项</a></li>
<li><a class="reference internal" href="#the-packer">The Packer</a></li>
<li><a class="reference internal" href="#packer-options">包装器的参数</a></li>
<li><a class="reference internal" href="#coupling-widget-variables">部件与变量的关联</a></li>
<li><a class="reference internal" href="#the-window-manager">窗口管理器</a></li>
<li><a class="reference internal" href="#tk-option-data-types">Tk 参数的数据类型</a></li>
<li><a class="reference internal" href="#bindings-and-events">绑定和事件</a></li>
<li><a class="reference internal" href="#the-index-parameter">The index Parameter</a></li>
<li><a class="reference internal" href="#images">Images</a></li>
</ul>
</li>
<li><a class="reference internal" href="#file-handlers">File Handlers</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="tk.html"
                        title="上一章">Tk图形用户界面(GUI)</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="tkinter.colorchooser.html"
                        title="下一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.colorchooser</span></code> --- 颜色选择对话框</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">提交 Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.10/Doc/library/tkinter.rst"
            rel="nofollow">显示源代码
        </a>
      </li>
    </ul>
  </div>
        </nav>
    </div>
</div>

  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="tkinter.colorchooser.html" title="tkinter.colorchooser --- 颜色选择对话框"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="tk.html" title="Tk图形用户界面(GUI)"
             accesskey="P">上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.10.1 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 标准库</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tk.html" accesskey="U">Tk图形用户界面(GUI)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code> —— Tcl/Tk 的 Python 接口</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="text" name="q" />
          <input type="submit" value="转向" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>    

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-tkinter">
<span id="tkinter-python-interface-to-tcl-tk"></span><h1><a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> —— Tcl/Tk 的 Python 接口<a class="headerlink" href="#module-tkinter" title="永久链接至标题">¶</a></h1>
<p><strong>源代码:</strong> <a class="reference external" href="https://github.com/python/cpython/tree/3.10/Lib/tkinter/__init__.py">Lib/tkinter/__init__.py</a></p>
<hr class="docutils" />
<p>The <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> package (&quot;Tk interface&quot;) is the standard Python interface to
the Tcl/Tk GUI toolkit.  Both Tk and <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> are available on most Unix
platforms, including macOS, as well as on Windows systems.</p>
<p>若在命令行执行 <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">-m</span> <span class="pre">tkinter</span></code>，应会弹出一个简单的 Tk 界面窗口， 表明 <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> 包已安装完成，还会显示当前安装的 Tcl/Tk 版本，以便阅读对应版本的 Tcl/Tk 文档。</p>
<p>Tkinter 支持众多的 Tcl/Tk 版本，带或不带多线程版本均可。官方的 Python 二进制版本捆绑了 Tcl/Tk 8.6 多线程版本。关于可支持版本的更多信息，请参阅 <code class="xref py py-mod docutils literal notranslate"><span class="pre">_tkinter</span></code> 模块的源代码。</p>
<p>Tkinter 并不只是做了简单的封装，而是增加了相当多的代码逻辑，让使用体验更具 Python 风格（pythonic） 。本文将集中介绍这些增加和变化部分，关于未改动部分的细节，请参考 Tcl/Tk 官方文档。</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Tcl/Tk 8.5 (2007) introduced a modern set of themed user interface components
along with a new API to use them. Both old and new APIs are still available.
Most documentation you will find online still uses the old API and
can be woefully outdated.</p>
</div>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<ul class="simple">
<li><dl class="simple">
<dt><a class="reference external" href="http://tkdocs.com/">TkDocs</a></dt><dd><p>Extensive tutorial on creating user interfaces with Tkinter.  Explains key concepts,
and illustrates recommended approaches using the modern API.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference external" href="https://www.tkdocs.com/shipman/">Tkinter 8.5 参考手册：一种 Python GUI</a></dt><dd><p>Reference documentation for Tkinter 8.5 detailing available classes, methods, and options.</p>
</dd>
</dl>
</li>
</ul>
<p>Tcl/Tk Resources:</p>
<ul class="simple">
<li><dl class="simple">
<dt><a class="reference external" href="https://www.tcl.tk/man/tcl8.6/TkCmd/contents.htm">Tk 命令</a></dt><dd><p>Comprehensive reference to each of the underlying Tcl/Tk commands used by Tkinter.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference external" href="https://www.tcl.tk">Tcl/Tk Home Page</a></dt><dd><p>Additional documentation, and links to Tcl/Tk core development.</p>
</dd>
</dl>
</li>
</ul>
<p>Books:</p>
<ul class="simple">
<li><dl class="simple">
<dt><a class="reference external" href="https://tkdocs.com/book.html">Modern Tkinter for Busy Python Developers</a></dt><dd><p>By Mark Roseman. (ISBN 978-1999149567)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference external" href="https://www.packtpub.com/product/python-gui-programming-with-tkinter/9781788835886">Python and Tkinter Programming</a></dt><dd><p>By Alan Moore. (ISBN 978-1788835886)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference external" href="http://learning-python.com/about-pp4e.html">使用 Python 编程</a></dt><dd><p>By Mark Lutz; has excellent coverage of Tkinter. (ISBN 978-0596158101)</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt><a class="reference external" href="https://www.amazon.com/exec/obidos/ASIN/032133633X">Tcl and the Tk Toolkit (2nd edition)</a></dt><dd><p>By John Ousterhout, inventor of Tcl/Tk, and Ken Jones; does not cover Tkinter. (ISBN 978-0321336330)</p>
</dd>
</dl>
</li>
</ul>
</div>
<div class="section" id="architecture">
<h2>架构<a class="headerlink" href="#architecture" title="永久链接至标题">¶</a></h2>
<p>Tcl/Tk is not a single library but rather consists of a few distinct
modules, each with separate functionality and its own official
documentation. Python's binary releases also ship an add-on module
together with it.</p>
<dl class="simple">
<dt>Tcl</dt><dd><p>Tcl 是一种动态解释型编程语言，正如 Python 一样。尽管它可作为一种通用的编程语言单独使用，但最常见的用法还是作为脚本引擎或 Tk 工具包的接口嵌入到 C 程序中。Tcl 库有一个 C 接口，用于创建和管理一个或多个 Tcl 解释器实例，并在这些实例中运行 Tcl 命令和脚本，添加用 Tcl 或 C 语言实现的自定义命令。每个解释器都拥有一个事件队列，某些部件可向解释器发送事件交由其处理。与 Python 不同，Tcl 的执行模型是围绕协同多任务而设计的，Tkinter 协调了两者的差别（详见 <a class="reference internal" href="#threading-model">Threading model</a> ）。</p>
</dd>
<dt>Tk</dt><dd><p>Tk 是用 C 语言实现的 <a class="reference external" href="http://wiki.tcl.tk/37432">Tcl 包</a>，加入了创建和操作 GUI 部件的自定义命令。每个 <a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tk</span></code></a> 对象都嵌入了自己的 Tcl 解释器实例，并载入 Tk 。Tk 的部件是可高度自定义的，不过代价是过时的外观。Tk  利用 Tcl 的事件队列来生成并处理 GUI 事件。</p>
</dd>
<dt>Ttk</dt><dd><p>带有主题的 Tk（Ttk）是较新加入的 Tk 部件，相比很多经典的 Tk 部件，在各平台提供的界面更加美观。自 Tk 8.5 版本开始，Ttk 作为 Tk 的成员进行发布。Python 则捆绑在一个单独的模块中， <a class="reference internal" href="tkinter.ttk.html#module-tkinter.ttk" title="tkinter.ttk: Tk themed widget set"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.ttk</span></code></a>。</p>
</dd>
</dl>
<p>Internally, Tk and Ttk use facilities of the underlying operating system,
i.e., Xlib on Unix/X11, Cocoa on macOS, GDI on Windows.</p>
<p>When your Python application uses a class in Tkinter, e.g., to create a widget,
the <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> module first assembles a Tcl/Tk command string. It passes that
Tcl command string to an internal <code class="xref py py-mod docutils literal notranslate"><span class="pre">_tkinter</span></code> binary module, which then
calls the Tcl interpreter to evaluate it. The Tcl interpreter will then call into the
Tk and/or Ttk packages, which will in turn make calls to Xlib, Cocoa, or GDI.</p>
</div>
<div class="section" id="tkinter-modules">
<h2>Tkinter 模块<a class="headerlink" href="#tkinter-modules" title="永久链接至标题">¶</a></h2>
<p>Support for Tkinter is spread across several modules. Most applications will need the
main <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> module, as well as the <a class="reference internal" href="tkinter.ttk.html#module-tkinter.ttk" title="tkinter.ttk: Tk themed widget set"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.ttk</span></code></a> module, which provides
the modern themed widget set and API:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">ttk</span>
</pre></div>
</div>
<dl class="py class">
<dt id="tkinter.Tk">
<em class="property">class </em><code class="sig-prename descclassname">tkinter.</code><code class="sig-name descname">Tk</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">screenName</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">baseName</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">className</span><span class="o">=</span><span class="default_value">'Tk'</span></em>, <em class="sig-param"><span class="n">useTk</span><span class="o">=</span><span class="default_value">1</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tkinter.Tk" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tk</span></code></a> 类在实例化时不带参数。这时会创建一个顶级 Tk 控件，通常是应用程序的主窗口。每个实例都有自己的关联 Tcl 解释器。</p>
</dd></dl>

<dl class="py function">
<dt id="tkinter.Tcl">
<code class="sig-prename descclassname">tkinter.</code><code class="sig-name descname">Tcl</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">screenName</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">baseName</span><span class="o">=</span><span class="default_value">None</span></em>, <em class="sig-param"><span class="n">className</span><span class="o">=</span><span class="default_value">'Tk'</span></em>, <em class="sig-param"><span class="n">useTk</span><span class="o">=</span><span class="default_value">0</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tkinter.Tcl" title="永久链接至目标">¶</a></dt>
<dd><p><a class="reference internal" href="#tkinter.Tcl" title="tkinter.Tcl"><code class="xref py py-func docutils literal notranslate"><span class="pre">Tcl()</span></code></a> 函数是一个工厂函数，它创建的对象类似于 <a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tk</span></code></a> 类创建的，只是不会初始化 Tk 子系统。这在调动 Tcl 解释器时最为有用，这时不想创建多余的顶层窗口，或者无法创建（比如不带 X 服务的 Unix/Linux 系统）。由 <a class="reference internal" href="#tkinter.Tcl" title="tkinter.Tcl"><code class="xref py py-func docutils literal notranslate"><span class="pre">Tcl()</span></code></a> 创建的对象可调用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">loadtk()</span></code> 方法创建一个顶层窗口（且会初始化 Tk 子系统）。</p>
</dd></dl>

<p>The modules that provide Tk support include:</p>
<dl class="simple">
<dt><a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a></dt><dd><p>Main Tkinter module.</p>
</dd>
<dt><a class="reference internal" href="tkinter.colorchooser.html#module-tkinter.colorchooser" title="tkinter.colorchooser: Color choosing dialog (Tk)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.colorchooser</span></code></a></dt><dd><p>让用户选择颜色的对话框。</p>
</dd>
<dt><a class="reference internal" href="dialog.html#module-tkinter.commondialog" title="tkinter.commondialog: Tkinter base class for dialogs (Tk)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.commondialog</span></code></a></dt><dd><p>本文其他模块定义的对话框的基类。</p>
</dd>
<dt><a class="reference internal" href="dialog.html#module-tkinter.filedialog" title="tkinter.filedialog: Dialog classes for file selection (Tk)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.filedialog</span></code></a></dt><dd><p>允许用户指定文件的通用对话框，用于打开或保存文件。</p>
</dd>
<dt><a class="reference internal" href="tkinter.font.html#module-tkinter.font" title="tkinter.font: Tkinter font-wrapping class (Tk)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.font</span></code></a></dt><dd><p>帮助操作字体的工具。</p>
</dd>
<dt><a class="reference internal" href="tkinter.messagebox.html#module-tkinter.messagebox" title="tkinter.messagebox: Various types of alert dialogs (Tk)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.messagebox</span></code></a></dt><dd><p>访问标准的 Tk 对话框。</p>
</dd>
<dt><a class="reference internal" href="tkinter.scrolledtext.html#module-tkinter.scrolledtext" title="tkinter.scrolledtext: Text widget with a vertical scroll bar. (Tk)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.scrolledtext</span></code></a></dt><dd><p>内置纵向滚动条的文本组件。</p>
</dd>
<dt><a class="reference internal" href="dialog.html#module-tkinter.simpledialog" title="tkinter.simpledialog: Simple dialog windows (Tk)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.simpledialog</span></code></a></dt><dd><p>基础对话框和一些便捷功能。</p>
</dd>
<dt><a class="reference internal" href="tkinter.ttk.html#module-tkinter.ttk" title="tkinter.ttk: Tk themed widget set"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.ttk</span></code></a></dt><dd><p>Themed widget set introduced in Tk 8.5, providing modern alternatives
for many of the classic widgets in the main <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> module.</p>
</dd>
</dl>
<p>Additional modules:</p>
<dl class="simple">
<dt><code class="xref py py-mod docutils literal notranslate"><span class="pre">_tkinter</span></code></dt><dd><p>A binary module that contains the low-level interface to Tcl/Tk.
It is automatically imported by the main <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> module,
and should never be used directly by application programmers.
It is usually a shared library (or DLL), but might in some cases be
statically linked with the Python interpreter.</p>
</dd>
<dt><code class="xref py py-mod docutils literal notranslate"><span class="pre">idlelib</span></code></dt><dd><p>Python's Integrated Development and Learning Environment (IDLE). Based
on <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a>.</p>
</dd>
<dt><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.constants</span></code></dt><dd><p>Symbolic constants that can be used in place of strings when passing
various parameters to Tkinter calls. Automatically imported by the
main <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> module.</p>
</dd>
<dt><a class="reference internal" href="tkinter.dnd.html#module-tkinter.dnd" title="tkinter.dnd: Tkinter drag-and-drop interface (Tk)"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.dnd</span></code></a></dt><dd><p>(experimental) Drag-and-drop support for <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a>. This will
become deprecated when it is replaced with the Tk DND.</p>
</dd>
<dt><a class="reference internal" href="tkinter.tix.html#module-tkinter.tix" title="tkinter.tix: Tk Extension Widgets for Tkinter"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.tix</span></code></a></dt><dd><p>(deprecated) An older third-party Tcl/Tk package that adds several new
widgets. Better alternatives for most can be found in <a class="reference internal" href="tkinter.ttk.html#module-tkinter.ttk" title="tkinter.ttk: Tk themed widget set"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.ttk</span></code></a>.</p>
</dd>
<dt><a class="reference internal" href="turtle.html#module-turtle" title="turtle: An educational framework for simple graphics applications"><code class="xref py py-mod docutils literal notranslate"><span class="pre">turtle</span></code></a></dt><dd><p>Tk 窗口中的海龟绘图库。</p>
</dd>
</dl>
</div>
<div class="section" id="tkinter-life-preserver">
<h2>Tkinter 拾遗<a class="headerlink" href="#tkinter-life-preserver" title="永久链接至标题">¶</a></h2>
<p>This section is not designed to be an exhaustive tutorial on either Tk or
Tkinter.  For that, refer to one of the external resources noted earlier.
Instead, this section provides a very quick orientation to what a Tkinter
application looks like, identifies foundational Tk concepts, and
explains how the Tkinter wrapper is structured.</p>
<p>The remainder of this section will help you to identify the classes,
methods, and options you'll need in your Tkinter application, and where to
find more detailed documentation on them, including in the official Tcl/Tk
reference manual.</p>
<div class="section" id="a-hello-world-program">
<h3>A Hello World Program<a class="headerlink" href="#a-hello-world-program" title="永久链接至标题">¶</a></h3>
<p>We'll start by walking through a &quot;Hello World&quot; application in Tkinter. This
isn't the smallest one we could write, but has enough to illustrate some
key concepts you'll need to know.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">tkinter</span> <span class="kn">import</span> <span class="n">ttk</span>
<span class="n">root</span> <span class="o">=</span> <span class="n">Tk</span><span class="p">()</span>
<span class="n">frm</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Frame</span><span class="p">(</span><span class="n">root</span><span class="p">,</span> <span class="n">padding</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">frm</span><span class="o">.</span><span class="n">grid</span><span class="p">()</span>
<span class="n">ttk</span><span class="o">.</span><span class="n">Label</span><span class="p">(</span><span class="n">frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Hello World!&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">frm</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s2">&quot;Quit&quot;</span><span class="p">,</span> <span class="n">command</span><span class="o">=</span><span class="n">root</span><span class="o">.</span><span class="n">destroy</span><span class="p">)</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="n">column</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">row</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">root</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</pre></div>
</div>
<p>After the imports, the next line creates an instance of the <a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tk</span></code></a> class,
which initializes Tk and creates its associated Tcl interpreter. It also
creates a toplevel window, known as the root window, which serves as the main
window of the application.</p>
<p>The following line creates a frame widget, which in this case will contain
a label and a button we'll create next. The frame is fit inside the root
window.</p>
<p>The next line creates a label widget holding a static text string. The
<code class="xref py py-meth docutils literal notranslate"><span class="pre">grid()</span></code> method is used to specify the relative layout (position) of the
label within its containing frame widget, similar to how tables in HTML work.</p>
<p>A button widget is then created, and placed to the right of the label. When
pressed, it will call the <code class="xref py py-meth docutils literal notranslate"><span class="pre">destroy()</span></code> method of the root window.</p>
<p>Finally, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">mainloop()</span></code> method puts everything on the display, and
responds to user input until the program terminates.</p>
</div>
<div class="section" id="important-tk-concepts">
<h3>Important Tk Concepts<a class="headerlink" href="#important-tk-concepts" title="永久链接至标题">¶</a></h3>
<p>Even this simple program illustrates the following key Tk concepts:</p>
<dl class="simple">
<dt>widgets</dt><dd><p>A Tkinter user interface is made up of individual <em>widgets</em>. Each widget is
represented as a Python object, instantiated from classes like
<code class="xref py py-class docutils literal notranslate"><span class="pre">ttk.Frame</span></code>, <code class="xref py py-class docutils literal notranslate"><span class="pre">ttk.Label</span></code>, and <code class="xref py py-class docutils literal notranslate"><span class="pre">ttk.Button</span></code>.</p>
</dd>
<dt>widget hierarchy</dt><dd><p>Widgets are arranged in a <em>hierarchy</em>. The label and button were contained
within a frame, which in turn was contained within the root window. When
creating each <em>child</em> widget, its <em>parent</em> widget is passed as the first
argument to the widget constructor.</p>
</dd>
<dt>configuration options</dt><dd><p>Widgets have <em>configuration options</em>, which modify their appearance and
behavior, such as the text to display in a label or button. Different
classes of widgets will have different sets of options.</p>
</dd>
<dt>geometry management</dt><dd><p>Widgets aren't automatically added to the user interface when they are
created. A <em>geometry manager</em> like <code class="docutils literal notranslate"><span class="pre">grid</span></code> controls where in the
user interface they are placed.</p>
</dd>
<dt>event loop</dt><dd><p>Tkinter reacts to user input, changes from your program, and even refreshes
the display only when actively running an <em>event loop</em>. If your program
isn't running the event loop, your user interface won't update.</p>
</dd>
</dl>
</div>
<div class="section" id="understanding-how-tkinter-wraps-tcl-tk">
<h3>Understanding How Tkinter Wraps Tcl/Tk<a class="headerlink" href="#understanding-how-tkinter-wraps-tcl-tk" title="永久链接至标题">¶</a></h3>
<p>When your application uses Tkinter's classes and methods, internally Tkinter
is assembling strings representing Tcl/Tk commands, and executing those
commands in the Tcl interpreter attached to your applicaton's <a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tk</span></code></a>
instance.</p>
<p>Whether it's trying to navigate reference documentation, trying to find
the right method or option, adapting some existing code, or debugging your
Tkinter application, there are times that it will be useful to understand
what those underlying Tcl/Tk commands look like.</p>
<p>To illustrate, here is the Tcl/Tk equivalent of the main part of the Tkinter
script above.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">ttk</span><span class="p">::</span><span class="n">frame</span> <span class="o">.</span><span class="n">frm</span> <span class="o">-</span><span class="n">padding</span> <span class="mi">10</span>
<span class="n">grid</span> <span class="o">.</span><span class="n">frm</span>
<span class="n">grid</span> <span class="p">[</span><span class="n">ttk</span><span class="p">::</span><span class="n">label</span> <span class="o">.</span><span class="n">frm</span><span class="o">.</span><span class="n">lbl</span> <span class="o">-</span><span class="n">text</span> <span class="s2">&quot;Hello World!&quot;</span><span class="p">]</span> <span class="o">-</span><span class="n">column</span> <span class="mi">0</span> <span class="o">-</span><span class="n">row</span> <span class="mi">0</span>
<span class="n">grid</span> <span class="p">[</span><span class="n">ttk</span><span class="p">::</span><span class="n">button</span> <span class="o">.</span><span class="n">frm</span><span class="o">.</span><span class="n">btn</span> <span class="o">-</span><span class="n">text</span> <span class="s2">&quot;Quit&quot;</span> <span class="o">-</span><span class="n">command</span> <span class="s2">&quot;destroy .&quot;</span><span class="p">]</span> <span class="o">-</span><span class="n">column</span> <span class="mi">1</span> <span class="o">-</span><span class="n">row</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Tcl's syntax is similar to many shell languages, where the first word is the
command to be executed, with arguments to that command following it, separated
by spaces. Without getting into too many details, notice the following:</p>
<ul class="simple">
<li><p>The commands used to create widgets (like <code class="docutils literal notranslate"><span class="pre">ttk::frame</span></code>) correspond to
widget classes in Tkinter.</p></li>
<li><p>Tcl widget options (like <code class="docutils literal notranslate"><span class="pre">-text</span></code>) correspond to keyword arguments in
Tkinter.</p></li>
<li><p>Widgets are referred to by a <em>pathname</em> in Tcl (like <code class="docutils literal notranslate"><span class="pre">.frm.btn</span></code>),
whereas Tkinter doesn't use names but object references.</p></li>
<li><p>A widget's place in the widget hierarchy is encoded in its (hierarchical)
pathname, which uses a <code class="docutils literal notranslate"><span class="pre">.</span></code> (dot) as a path separator. The pathname for
the root window is just <code class="docutils literal notranslate"><span class="pre">.</span></code> (dot). In Tkinter, the hierarchy is defined
not by pathname but by specifying the parent widget when creating each
child widget.</p></li>
<li><p>Operations which are implemented as separate <em>commands</em> in Tcl (like
<code class="docutils literal notranslate"><span class="pre">grid</span></code> or <code class="docutils literal notranslate"><span class="pre">destroy</span></code>) are represented as <em>methods</em> on Tkinter widget
objects. As you'll see shortly, at other times Tcl uses what appear to be
method calls on widget objects, which more closely mirror what would is
used in Tkinter.</p></li>
</ul>
</div>
<div class="section" id="how-do-i-what-option-does">
<h3>How do I...? What option does...?<a class="headerlink" href="#how-do-i-what-option-does" title="永久链接至标题">¶</a></h3>
<p>If you're not sure how to do something in Tkinter, and you can't immediately
find it in the tutorial or reference documentation you're using, there are a
few strategies that can be helpful.</p>
<p>First, remember that the details of how individual widgets work may vary
across different versions of both Tkinter and Tcl/Tk. If you're searching
documentation, make sure it corresponds to the Python and Tcl/Tk versions
installed on your system.</p>
<p>When searching for how to use an API, it helps to know the exact name of the
class, option, or method that you're using. Introspection, either in an
interactive Python shell or with <a class="reference internal" href="functions.html#print" title="print"><code class="xref py py-func docutils literal notranslate"><span class="pre">print()</span></code></a>, can help you identify what
you need.</p>
<p>To find out what configuration options are available on any widget, call its
<code class="xref py py-meth docutils literal notranslate"><span class="pre">configure()</span></code> method, which returns a dictionary containing a variety of
information about each object, including its default and current values. Use
<code class="xref py py-meth docutils literal notranslate"><span class="pre">keys()</span></code> to get just the names of each option.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">btn</span> <span class="o">=</span> <span class="n">ttk</span><span class="o">.</span><span class="n">Button</span><span class="p">(</span><span class="n">frm</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="n">btn</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
</pre></div>
</div>
<p>As most widgets have many configuration options in common, it can be useful
to find out which are specific to a particular widget class. Comparing the
list of options to that of a simpler widget, like a frame, is one way to
do that.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">btn</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">frm</span><span class="o">.</span><span class="n">configure</span><span class="p">()</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
<p>Similarly, you can find the available methods for a widget object using the
standard <a class="reference internal" href="functions.html#dir" title="dir"><code class="xref py py-func docutils literal notranslate"><span class="pre">dir()</span></code></a> function. If you try it, you'll see there are over 200
common widget methods, so again identifying those specific to a widget class
is helpful.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">btn</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">btn</span><span class="p">))</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="nb">dir</span><span class="p">(</span><span class="n">frm</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="section" id="navigating-the-tcl-tk-reference-manual">
<h3>Navigating the Tcl/Tk Reference Manual<a class="headerlink" href="#navigating-the-tcl-tk-reference-manual" title="永久链接至标题">¶</a></h3>
<p>As noted, the official <a class="reference external" href="https://www.tcl.tk/man/tcl8.6/TkCmd/contents.htm">Tk commands</a>
reference manual (man pages) is often the most accurate description of what
specific operations on widgets do. Even when you know the name of the option
or method that you need, you may still have a few places to look.</p>
<p>While all operations in Tkinter are implemented as method calls on widget
objects, you've seen that many Tcl/Tk operations appear as commands that
take a widget pathname as its first parameter, followed by optional
parameters, e.g.</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">destroy</span> <span class="o">.</span>
<span class="n">grid</span> <span class="o">.</span><span class="n">frm</span><span class="o">.</span><span class="n">btn</span> <span class="o">-</span><span class="n">column</span> <span class="mi">0</span> <span class="o">-</span><span class="n">row</span> <span class="mi">0</span>
</pre></div>
</div>
<p>Others, however, look more like methods called on a widget object (in fact,
when you create a widget in Tcl/Tk, it creates a Tcl command with the name
of the widget pathname, with the first parameter to that command being the
name of a method to call).</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="o">.</span><span class="n">frm</span><span class="o">.</span><span class="n">btn</span> <span class="n">invoke</span>
<span class="o">.</span><span class="n">frm</span><span class="o">.</span><span class="n">lbl</span> <span class="n">configure</span> <span class="o">-</span><span class="n">text</span> <span class="s2">&quot;Goodbye&quot;</span>
</pre></div>
</div>
<p>In the official Tcl/Tk reference documentation, you'll find most operations
that look like method calls on the man page for a specific widget (e.g.,
you'll find the <code class="xref py py-meth docutils literal notranslate"><span class="pre">invoke()</span></code> method on the
<a class="reference external" href="https://www.tcl.tk/man/tcl8.6/TkCmd/ttk_button.htm">ttk::button</a>
man page), while functions that take a widget as a parameter often have
their own man page (e.g.,
<a class="reference external" href="https://www.tcl.tk/man/tcl8.6/TkCmd/grid.htm">grid</a>).</p>
<p>You'll find many common options and methods in the
<a class="reference external" href="https://www.tcl.tk/man/tcl8.6/TkCmd/options.htm">options</a> or
<a class="reference external" href="https://www.tcl.tk/man/tcl8.6/TkCmd/ttk_widget.htm">ttk::widget</a> man
pages, while others are found in the man page for a specific widget class.</p>
<p>You'll also find that many Tkinter methods have compound names, e.g.,
<code class="xref py py-func docutils literal notranslate"><span class="pre">winfo_x()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">winfo_height()</span></code>, <code class="xref py py-func docutils literal notranslate"><span class="pre">winfo_viewable()</span></code>. You'd find
documentation for all of these in the
<a class="reference external" href="https://www.tcl.tk/man/tcl8.6/TkCmd/winfo.htm">winfo</a> man page.</p>
<div class="admonition note">
<p class="admonition-title">注解</p>
<p>Somewhat confusingly, there are also methods on all Tkinter widgets
that don't actually operate on the widget, but operate at a global
scope, independent of any widget. Examples are methods for accessing
the clipboard or the system bell. (They happen to be implemented as
methods in the base <code class="xref py py-class docutils literal notranslate"><span class="pre">Widget</span></code> class that all Tkinter widgets
inherit from).</p>
</div>
</div>
</div>
<div class="section" id="threading-model">
<h2>线程模型<a class="headerlink" href="#threading-model" title="永久链接至标题">¶</a></h2>
<p>Python 和 Tcl/Tk 的线程模型大不相同，而 <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> 则会试图进行调和。若要用到线程，可能需要注意这一点。</p>
<p>一个 Python 解释器可能会关联很多线程。在 Tcl 中，可以创建多个线程，但每个线程都关联了单独的 Tcl 解释器实例。线程也可以创建一个以上的解释器实例，尽管每个解释器实例只能由创建它的那个线程使用。</p>
<p>Each <a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tk</span></code></a> object created by <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> contains a Tcl interpreter.
It also keeps track of which thread created that interpreter. Calls to
<a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> can be made from any Python thread. Internally, if a call comes
from a thread other than the one that created the <a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tk</span></code></a> object, an event
is posted to the interpreter's event queue, and when executed, the result is
returned to the calling Python thread.</p>
<p>Tcl/Tk 应用程序通常是事件驱动的，这意味着在完成初始化以后，解释器会运行一个事件循环（即 <code class="xref py py-func docutils literal notranslate"><span class="pre">Tk.mainloop()</span></code>）并对事件做出响应。因为它是单线程的，所以事件处理程序必须快速响应，否则会阻塞其他事件的处理。为了避免阻塞，不应在事件处理程序中执行任何耗时很久的计算，而应利用计时器将任务分块，或者在其他线程中运行。而其他很多工具包的 GUI 是在一个完全独立的线程中运行的，独立于包括事件处理程序在内的所有代码。</p>
<p>如果 Tcl 解释器没有运行事件循环并处理解释器事件，则除运行 Tcl 解释器的线程外，任何其他线程发起的 <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> 调用都会失败。</p>
<p>存在一些特殊情况：</p>
<blockquote>
<div><ul class="simple">
<li><p>Tcl/Tk 库可编译为不支持多线程的版本。这时 <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> 会从初始 Python 线程调用底层库，即便那不是创建 Tcl 解释器的线程。会有一个全局锁来确保每次只会发生一次调用。</p></li>
<li><p>虽然 <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> 允许创建一个以上的 <a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tk</span></code></a> 实例（都带有自己的解释器），但所有属于同一线程的解释器均会共享同一个事件队列，这样很快就会一团糟。在实际编程时，一次创建的 <a class="reference internal" href="#tkinter.Tk" title="tkinter.Tk"><code class="xref py py-class docutils literal notranslate"><span class="pre">Tk</span></code></a> 实例不要超过一个。否则最好在不同的线程中创建，并确保运行的是支持多线程的 Tcl/Tk 版本。</p></li>
<li><p>为了防止 Tcl 解释器重新进入事件循环，阻塞事件处理程序并不是唯一的做法。甚至可以运行多个嵌套的事件循环，或者完全放弃事件循环。如果在处理事件或线程时碰到棘手的问题，请小心这些可能的事情。</p></li>
<li><p>有几个 <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> 函数，目前只在创建 Tcl 解释器的线程中调用才行。</p></li>
</ul>
</div></blockquote>
</div>
<div class="section" id="handy-reference">
<h2>快速参考<a class="headerlink" href="#handy-reference" title="永久链接至标题">¶</a></h2>
<div class="section" id="setting-options">
<span id="tkinter-setting-options"></span><h3>可选配置项<a class="headerlink" href="#setting-options" title="永久链接至标题">¶</a></h3>
<p>配置参数可以控制组件颜色和边框宽度等。可通过三种方式进行设置：</p>
<dl>
<dt>在对象创建时，使用关键字参数</dt><dd><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">fred</span> <span class="o">=</span> <span class="n">Button</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">fg</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
<dt>在对象创建后，将参数名用作字典索引</dt><dd><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">fred</span><span class="p">[</span><span class="s2">&quot;fg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>
<span class="n">fred</span><span class="p">[</span><span class="s2">&quot;bg&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;blue&quot;</span>
</pre></div>
</div>
</dd>
<dt>利用 config() 方法修改对象的多个属性</dt><dd><div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">fred</span><span class="o">.</span><span class="n">config</span><span class="p">(</span><span class="n">fg</span><span class="o">=</span><span class="s2">&quot;red&quot;</span><span class="p">,</span> <span class="n">bg</span><span class="o">=</span><span class="s2">&quot;blue&quot;</span><span class="p">)</span>
</pre></div>
</div>
</dd>
</dl>
<p>关于这些参数及其表现的完整解释，请参阅 Tk 手册中有关组件的 man 帮助页。</p>
<p>请注意，man 手册页列出了每个部件的“标准选项”和“组件特有选项”。前者是很多组件通用的选项列表，后者是该组件特有的选项。标准选项在  <em class="manpage"><a class="manpage reference external" href="https://manpages.debian.org/options(3)">options(3)</a></em> man 手册中有文档。</p>
<p>本文没有区分标准选项和部件特有选项。有些选项不适用于某类组件。组件是否对某选项做出响应，取决于组件的类别；按钮组件有一个 <code class="docutils literal notranslate"><span class="pre">command</span></code> 选项，而标签组件就没有。</p>
<p>组件支持的选项在其手册中有列出，也可在运行时调用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">config()</span></code> 方法（不带参数）查看，或者通过调用组件的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">keys()</span></code> 方法进行查询。这些调用的返回值为字典，字典的键是字符串格式的选项名（比如 <code class="docutils literal notranslate"><span class="pre">'relief'</span></code>），字典的值为五元组。</p>
<p>有些选项，比如 <code class="docutils literal notranslate"><span class="pre">bg</span></code> 是全名通用选项的同义词（<code class="docutils literal notranslate"><span class="pre">bg</span></code> 是 “background”的简写）。向 <code class="docutils literal notranslate"><span class="pre">config()</span></code> 方法传入选项的简称将返回一个二元组，而不是五元组。传回的二元组将包含同义词的全名和“真正的”选项（比如 <code class="docutils literal notranslate"><span class="pre">('bg',</span> <span class="pre">'background')</span></code>）。</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 13%" />
<col style="width: 61%" />
<col style="width: 26%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>索引</p></th>
<th class="head"><p>含意</p></th>
<th class="head"><p>示例</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>选项名称</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'relief'</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>数据库查找的选项名称</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'relief'</span></code></p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>数据库查找的选项类</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'Relief'</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>默认值</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'raised'</span></code></p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>当前值</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">'groove'</span></code></p></td>
</tr>
</tbody>
</table>
<p>示例:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">fred</span><span class="o">.</span><span class="n">config</span><span class="p">())</span>
<span class="go">{&#39;relief&#39;: (&#39;relief&#39;, &#39;relief&#39;, &#39;Relief&#39;, &#39;raised&#39;, &#39;groove&#39;)}</span>
</pre></div>
</div>
<p>当然，输出的字典将包含所有可用选项及其值。这里只是举个例子。</p>
</div>
<div class="section" id="the-packer">
<h3>The Packer<a class="headerlink" href="#the-packer" title="永久链接至标题">¶</a></h3>
<p id="index-0">包装器是 Tk 的形状管理机制之一。 形状（geometry ）管理器用于指定多个部件在容器（共同的 <em>主</em> 组件）内的相对位置。与更为麻烦的 <em>定位器</em> 相比（不太常用，这里不做介绍），包装器可接受定性的相对关系—— <em>上面</em> 、<em>左边</em> 、<em>填充</em> 等，并确定精确的位置坐标。</p>
<p><em>主</em> 部件的大小都由其内部的 “从属部件” 的大小决定。包装器用于控制从属部件在主部件中出现的位置。可以把部件包入框架，再把框架包入其他框架中，搭建出所需的布局。此外，只要完成了包装，组件的布局就会进行动态调整，以适应布局参数的变化。</p>
<p>请注意，只有用形状管理器指定几何形状后，部件才会显示出来。忘记设置形状参数是新手常犯的错误，惊讶于创建完部件却啥都没出现。部件只有在应用了类似于打包器的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">pack()</span></code> 方法之后才会显示在屏幕上。</p>
<p>调用 pack() 方法时可以给出由关键字/参数值组成的键值对，以便控制组件在其容器中出现的位置，以及主程序窗口大小变动时的行为。下面是一些例子：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">fred</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>                     <span class="c1"># defaults to side = &quot;top&quot;</span>
<span class="n">fred</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">side</span><span class="o">=</span><span class="s2">&quot;left&quot;</span><span class="p">)</span>
<span class="n">fred</span><span class="o">.</span><span class="n">pack</span><span class="p">(</span><span class="n">expand</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="packer-options">
<h3>包装器的参数<a class="headerlink" href="#packer-options" title="永久链接至标题">¶</a></h3>
<p>关于包装器及其可接受的参数，更多信息请参阅 man 手册和 John Ousterhout 书中的第 183 页。</p>
<dl class="simple">
<dt>anchor</dt><dd><p>anchor 类型。 表示包装器要放置的每个从属组件的位置。</p>
</dd>
<dt>expand</dt><dd><p>布尔型，<code class="docutils literal notranslate"><span class="pre">0</span></code> 或 <code class="docutils literal notranslate"><span class="pre">1</span></code> 。</p>
</dd>
<dt>fill</dt><dd><p>合法值为：<code class="docutils literal notranslate"><span class="pre">'x'</span></code> 、<code class="docutils literal notranslate"><span class="pre">'y'</span></code> 、<code class="docutils literal notranslate"><span class="pre">'both'</span></code> 、<code class="docutils literal notranslate"><span class="pre">'none'</span></code>。</p>
</dd>
<dt>ipadx 和 ipady</dt><dd><p>距离值，指定从属部件的内边距。</p>
</dd>
<dt>padx 和 pady</dt><dd><p>距离值，指定从属部件的外边距。</p>
</dd>
<dt>side</dt><dd><p>合法值为：<code class="docutils literal notranslate"><span class="pre">'left'</span></code>、 <code class="docutils literal notranslate"><span class="pre">'right'</span></code> 、 <code class="docutils literal notranslate"><span class="pre">'top'</span></code>、 <code class="docutils literal notranslate"><span class="pre">'bottom'</span></code>。</p>
</dd>
</dl>
</div>
<div class="section" id="coupling-widget-variables">
<h3>部件与变量的关联<a class="headerlink" href="#coupling-widget-variables" title="永久链接至标题">¶</a></h3>
<p>通过一些特定参数，某些组件（如文本输入组件）的当前设置可直接与应用程序的变量关联。这些参数包括 <code class="docutils literal notranslate"><span class="pre">variable</span></code> 、 <code class="docutils literal notranslate"><span class="pre">textvariable</span></code> 、 <code class="docutils literal notranslate"><span class="pre">onvalue</span></code> 、 <code class="docutils literal notranslate"><span class="pre">offvalue</span></code>  、 <code class="docutils literal notranslate"><span class="pre">value</span></code>。这种关联是双向的：只要这些变量因任何原因发生变化，其关联的部件就会更新以反映新的参数值。</p>
<p>不幸的是，在目前 <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> 的实现代码中，不可能通过 <code class="docutils literal notranslate"><span class="pre">variable</span></code> 或 <code class="docutils literal notranslate"><span class="pre">textvariable</span></code> 参数将任意 Python 变量移交给组件。变量只有是 <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> 中定义的 Variable 类的子类，才能生效。</p>
<p>已经定义了很多有用的 Variable 子类： <code class="xref py py-class docutils literal notranslate"><span class="pre">StringVar</span></code> 、 <code class="xref py py-class docutils literal notranslate"><span class="pre">IntVar</span></code> 、<code class="xref py py-class docutils literal notranslate"><span class="pre">DoubleVar</span></code> 和 <code class="xref py py-class docutils literal notranslate"><span class="pre">BooleanVar</span></code>。调用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">get()</span></code> 方法可以读取这些变量的当前值；调用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">set()</span></code> 方法则可改变变量值。只要遵循这种用法，组件就会保持跟踪变量的值，而不需要更多的干预。</p>
<p>例如：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>

<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">entrythingy</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Entry</span><span class="p">()</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entrythingy</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

        <span class="c1"># Create the application variable.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">StringVar</span><span class="p">()</span>
        <span class="c1"># Set it to some value.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="s2">&quot;this is a variable&quot;</span><span class="p">)</span>
        <span class="c1"># Tell the entry widget to watch this variable.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entrythingy</span><span class="p">[</span><span class="s2">&quot;textvariable&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">contents</span>

        <span class="c1"># Define a callback for when the user hits return.</span>
        <span class="c1"># It prints the current value of the variable.</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">entrythingy</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s1">&#39;&lt;Key-Return&gt;&#39;</span><span class="p">,</span>
                             <span class="bp">self</span><span class="o">.</span><span class="n">print_contents</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">print_contents</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hi. The current entry content is:&quot;</span><span class="p">,</span>
              <span class="bp">self</span><span class="o">.</span><span class="n">contents</span><span class="o">.</span><span class="n">get</span><span class="p">())</span>

<span class="n">root</span> <span class="o">=</span> <span class="n">tk</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="n">myapp</span> <span class="o">=</span> <span class="n">App</span><span class="p">(</span><span class="n">root</span><span class="p">)</span>
<span class="n">myapp</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="the-window-manager">
<h3>窗口管理器<a class="headerlink" href="#the-window-manager" title="永久链接至标题">¶</a></h3>
<p id="index-1">Tk 有个实用命令 <code class="docutils literal notranslate"><span class="pre">wm</span></code>，用于与窗口管理器进行交互。<code class="docutils literal notranslate"><span class="pre">wm</span></code> 命令的参数可用于控制标题、位置、图标之类的东西。在 <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> 中，这些命令已被实现为 <code class="xref py py-class docutils literal notranslate"><span class="pre">Wm</span></code> 类的方法。顶层部件是 <code class="xref py py-class docutils literal notranslate"><span class="pre">Wm</span></code> 类的子类，所以可以直接调用 <code class="xref py py-class docutils literal notranslate"><span class="pre">Wm</span></code> 的这些方法。</p>
<p>要获得指定部件所在的顶层窗口，通常只要引用该部件的主窗口即可。当然，如果该部件是包装在框架内的，那么主窗口不代表就是顶层窗口。为了获得任意组件所在的顶层窗口，可以调用 <code class="xref py py-meth docutils literal notranslate"><span class="pre">_root()</span></code> 方法。该方法以下划线开头，表明其为 Python 实现的代码，而非 Tk 提供的某个接口。</p>
<p>以下是一些典型用法：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span> <span class="k">as</span> <span class="nn">tk</span>

<span class="k">class</span> <span class="nc">App</span><span class="p">(</span><span class="n">tk</span><span class="o">.</span><span class="n">Frame</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">master</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">master</span><span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">pack</span><span class="p">()</span>

<span class="c1"># create the application</span>
<span class="n">myapp</span> <span class="o">=</span> <span class="n">App</span><span class="p">()</span>

<span class="c1">#</span>
<span class="c1"># here are method calls to the window manager class</span>
<span class="c1">#</span>
<span class="n">myapp</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s2">&quot;My Do-Nothing Application&quot;</span><span class="p">)</span>
<span class="n">myapp</span><span class="o">.</span><span class="n">master</span><span class="o">.</span><span class="n">maxsize</span><span class="p">(</span><span class="mi">1000</span><span class="p">,</span> <span class="mi">400</span><span class="p">)</span>

<span class="c1"># start the program</span>
<span class="n">myapp</span><span class="o">.</span><span class="n">mainloop</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="section" id="tk-option-data-types">
<h3>Tk 参数的数据类型<a class="headerlink" href="#tk-option-data-types" title="永久链接至标题">¶</a></h3>
<dl id="index-2">
<dt>anchor</dt><dd><p>合法值是罗盘的方位点：<code class="docutils literal notranslate"><span class="pre">&quot;n&quot;</span></code> 、<code class="docutils literal notranslate"><span class="pre">&quot;ne&quot;</span></code> 、<code class="docutils literal notranslate"><span class="pre">&quot;e&quot;</span></code> 、<code class="docutils literal notranslate"><span class="pre">&quot;se&quot;</span></code> 、<code class="docutils literal notranslate"><span class="pre">&quot;s&quot;</span></code> 、<code class="docutils literal notranslate"><span class="pre">&quot;sw&quot;</span></code> 、<code class="docutils literal notranslate"><span class="pre">&quot;w&quot;</span></code> 、<code class="docutils literal notranslate"><span class="pre">&quot;nw&quot;</span></code>  和 <code class="docutils literal notranslate"><span class="pre">&quot;center&quot;</span></code> 。</p>
</dd>
<dt>bitmap</dt><dd><p>内置已命名的位图有八个：<code class="docutils literal notranslate"><span class="pre">'error'</span></code>、 <code class="docutils literal notranslate"><span class="pre">'gray25'</span></code> 、<code class="docutils literal notranslate"><span class="pre">'gray50'</span></code> 、<code class="docutils literal notranslate"><span class="pre">'hourglass'</span></code>、 <code class="docutils literal notranslate"><span class="pre">'info'</span></code> 、<code class="docutils literal notranslate"><span class="pre">'questhead'</span></code> 、<code class="docutils literal notranslate"><span class="pre">'question'</span></code> 、<code class="docutils literal notranslate"><span class="pre">'warning'</span></code> 。若要指定位图的文件名，请给出完整路径，前面加一个 <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>，比如 <code class="docutils literal notranslate"><span class="pre">&quot;&#64;/usr/contrib/bitmap/gumby.bit&quot;</span></code>。</p>
</dd>
<dt>boolean</dt><dd><p>可以传入整数 0 或 1，或是字符串 <code class="docutils literal notranslate"><span class="pre">&quot;yes&quot;</span></code> 或 <code class="docutils literal notranslate"><span class="pre">&quot;no&quot;</span></code>。</p>
</dd>
<dt>callback -- 回调</dt><dd><p>指任何无需调用参数的 Python 函数。 例如：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">print_it</span><span class="p">():</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hi there&quot;</span><span class="p">)</span>
<span class="n">fred</span><span class="p">[</span><span class="s2">&quot;command&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">print_it</span>
</pre></div>
</div>
</dd>
<dt>color</dt><dd><p>可在 rgb.txt 文件中以颜色名的形式给出，或是 RGB 字符串的形式，4 位 ：<code class="docutils literal notranslate"><span class="pre">&quot;#RGB&quot;</span></code> ，8 位 ：<code class="docutils literal notranslate"><span class="pre">&quot;#RRGGBB&quot;</span></code>，12 位：<code class="docutils literal notranslate"><span class="pre">&quot;#RRRGGGBBB&quot;</span></code>，16 位：<code class="docutils literal notranslate"><span class="pre">&quot;#RRRRGGGGBBBB&quot;</span></code>，其中R、G、B 为合法的十六进制数值。 详见 Ousterhout 书中的第 160 页。</p>
</dd>
<dt>cursor</dt><dd><p>可采用 <code class="file docutils literal notranslate"><span class="pre">cursorfont.h</span></code> 中的标准光标名称，去掉 <code class="docutils literal notranslate"><span class="pre">XC_</span></code> 前缀。 比如要获取一个手形光标（<code class="xref py py-const docutils literal notranslate"><span class="pre">XC_hand2</span></code>），可以用字符串 <code class="docutils literal notranslate"><span class="pre">&quot;hand2&quot;</span></code>。也可以指定自己的位图和掩码文件作为光标。参见 Ousterhout 书中的第 179 页。</p>
</dd>
<dt>distance</dt><dd><p>屏幕距离可以用像素或绝对距离来指定。像素是数字，绝对距离是字符串，后面的字符表示单位：<code class="docutils literal notranslate"><span class="pre">c</span></code> 是厘米，<code class="docutils literal notranslate"><span class="pre">i</span></code> 是英寸，<code class="docutils literal notranslate"><span class="pre">m</span></code> 是毫米，<code class="docutils literal notranslate"><span class="pre">p</span></code> 则表示打印机的点数。例如，3.5 英寸可表示为 <code class="docutils literal notranslate"><span class="pre">&quot;3.5i&quot;</span></code>。</p>
</dd>
<dt>font</dt><dd><p>Tk 采用一串名称的格式表示字体，例如 <code class="docutils literal notranslate"><span class="pre">{courier</span> <span class="pre">10</span> <span class="pre">bold}</span></code>。正数的字体大小以点为单位，负数的大小以像素为单位。</p>
</dd>
<dt>geometry</dt><dd><p>这是一个 <code class="docutils literal notranslate"><span class="pre">widthxheight</span></code> 形式的字符串，其中宽度和高度对于大多数部件来说是以像素为单位的（对于显示文本的部件来说是以字符为单位的）。例如：fred[&quot;geometry&quot;] = &quot;200x100&quot;。</p>
</dd>
<dt>justify</dt><dd><p>合法的值为字符串： <code class="docutils literal notranslate"><span class="pre">&quot;left&quot;</span></code> 、 <code class="docutils literal notranslate"><span class="pre">&quot;center&quot;</span></code> 、 <code class="docutils literal notranslate"><span class="pre">&quot;right&quot;</span></code> 和 <code class="docutils literal notranslate"><span class="pre">&quot;fill&quot;</span></code> 。</p>
</dd>
<dt>region</dt><dd><p>这是包含四个元素的字符串，以空格分隔，每个元素是表示一个合法的距离值（见上文）。例如：<code class="docutils literal notranslate"><span class="pre">&quot;2</span> <span class="pre">3</span> <span class="pre">4</span> <span class="pre">5&quot;</span></code> 、 <code class="docutils literal notranslate"><span class="pre">&quot;3i</span> <span class="pre">2i</span> <span class="pre">4.5i</span> <span class="pre">2i&quot;</span></code> 和 <code class="docutils literal notranslate"><span class="pre">&quot;3c</span> <span class="pre">2c</span> <span class="pre">4c</span> <span class="pre">10.43c&quot;</span></code> 都是合法的区域值。</p>
</dd>
<dt>relief</dt><dd><p>决定了组件的边框样式。 合法值包括：<code class="docutils literal notranslate"><span class="pre">&quot;raised&quot;</span></code>、 <code class="docutils literal notranslate"><span class="pre">&quot;sunken&quot;</span></code> 、<code class="docutils literal notranslate"><span class="pre">&quot;flat&quot;</span></code> 、<code class="docutils literal notranslate"><span class="pre">&quot;groove&quot;</span></code>  和 <code class="docutils literal notranslate"><span class="pre">&quot;ridge&quot;</span></code> 。</p>
</dd>
<dt>scrollcommand</dt><dd><p>这几乎就是带滚动条部件的 <code class="xref py py-meth docutils literal notranslate"><span class="pre">set()</span></code> 方法，但也可是任一只有一个参数的部件方法。</p>
</dd>
<dt>wrap</dt><dd><p>只能是以下值之一：<code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code> 、 <code class="docutils literal notranslate"><span class="pre">&quot;char&quot;</span></code> 、 <code class="docutils literal notranslate"><span class="pre">&quot;word&quot;</span></code>。</p>
</dd>
</dl>
</div>
<div class="section" id="bindings-and-events">
<span id="id2"></span><h3>绑定和事件<a class="headerlink" href="#bindings-and-events" title="永久链接至标题">¶</a></h3>
<p id="index-3">部件命令中的 bind 方法可觉察某些事件，并在事件发生时触发一个回调函数。bind 方法的形式是：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bind</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sequence</span><span class="p">,</span> <span class="n">func</span><span class="p">,</span> <span class="n">add</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">):</span>
</pre></div>
</div>
<p>其中：</p>
<dl class="simple">
<dt>sequence</dt><dd><p>是一个表示事件的目标种类的字符串。（详情请看 bind 的手册页和 John Outsterhout 的书的第 201 页。）</p>
</dd>
<dt>func</dt><dd><p>is a Python function, taking one argument, to be invoked when the event occurs.
An Event instance will be passed as the argument. (Functions deployed this way
are commonly known as <em>callbacks</em>.)</p>
</dd>
<dt>add</dt><dd><p>is optional, either <code class="docutils literal notranslate"><span class="pre">''</span></code> or <code class="docutils literal notranslate"><span class="pre">'+'</span></code>.  Passing an empty string denotes that
this binding is to replace any other bindings that this event is associated
with.  Passing a <code class="docutils literal notranslate"><span class="pre">'+'</span></code> means that this function is to be added to the list
of functions bound to this event type.</p>
</dd>
</dl>
<p>例如：</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">turn_red</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
    <span class="n">event</span><span class="o">.</span><span class="n">widget</span><span class="p">[</span><span class="s2">&quot;activeforeground&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;red&quot;</span>

<span class="bp">self</span><span class="o">.</span><span class="n">button</span><span class="o">.</span><span class="n">bind</span><span class="p">(</span><span class="s2">&quot;&lt;Enter&gt;&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">turn_red</span><span class="p">)</span>
</pre></div>
</div>
<p>Notice how the widget field of the event is being accessed in the
<code class="docutils literal notranslate"><span class="pre">turn_red()</span></code> callback.  This field contains the widget that caught the X
event.  The following table lists the other event fields you can access, and how
they are denoted in Tk, which can be useful when referring to the Tk man pages.</p>
<table class="docutils align-default">
<colgroup>
<col style="width: 8%" />
<col style="width: 42%" />
<col style="width: 8%" />
<col style="width: 42%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Tk</p></th>
<th class="head"><p>Tkinter Event Field</p></th>
<th class="head"><p>Tk</p></th>
<th class="head"><p>Tkinter Event Field</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>%f</p></td>
<td><p>焦点</p></td>
<td><p>%A</p></td>
<td><p>char</p></td>
</tr>
<tr class="row-odd"><td><p>%h</p></td>
<td><p>height</p></td>
<td><p>%E</p></td>
<td><p>send_event</p></td>
</tr>
<tr class="row-even"><td><p>%k</p></td>
<td><p>keycode</p></td>
<td><p>%K</p></td>
<td><p>keysym</p></td>
</tr>
<tr class="row-odd"><td><p>%s</p></td>
<td><p>状况</p></td>
<td><p>%N</p></td>
<td><p>keysym_num</p></td>
</tr>
<tr class="row-even"><td><p>%t</p></td>
<td><p>time</p></td>
<td><p>%T</p></td>
<td><p>type -- 类型</p></td>
</tr>
<tr class="row-odd"><td><p>%w</p></td>
<td><p>宽度</p></td>
<td><p>%W</p></td>
<td><p>widget</p></td>
</tr>
<tr class="row-even"><td><p>%x</p></td>
<td><p>x</p></td>
<td><p>%X</p></td>
<td><p>x_root</p></td>
</tr>
<tr class="row-odd"><td><p>%y</p></td>
<td><p>y</p></td>
<td><p>%Y</p></td>
<td><p>y_root</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="the-index-parameter">
<h3>The index Parameter<a class="headerlink" href="#the-index-parameter" title="永久链接至标题">¶</a></h3>
<p>A number of widgets require &quot;index&quot; parameters to be passed.  These are used to
point at a specific place in a Text widget, or to particular characters in an
Entry widget, or to particular menu items in a Menu widget.</p>
<dl class="simple">
<dt>Entry widget indexes (index, view index, etc.)</dt><dd><p>Entry widgets have options that refer to character positions in the text being
displayed.  You can use these <a class="reference internal" href="#module-tkinter" title="tkinter: Interface to Tcl/Tk for graphical user interfaces"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code></a> functions to access these special
points in text widgets:</p>
</dd>
<dt>Text widget indexes</dt><dd><p>The index notation for Text widgets is very rich and is best described in the Tk
man pages.</p>
</dd>
<dt>Menu indexes (menu.invoke(), menu.entryconfig(), etc.)</dt><dd><p>Some options and methods for menus manipulate specific menu entries. Anytime a
menu index is needed for an option or a parameter, you may pass in:</p>
<ul class="simple">
<li><p>an integer which refers to the numeric position of the entry in the widget,
counted from the top, starting with 0;</p></li>
<li><p>the string <code class="docutils literal notranslate"><span class="pre">&quot;active&quot;</span></code>, which refers to the menu position that is currently
under the cursor;</p></li>
<li><p>the string <code class="docutils literal notranslate"><span class="pre">&quot;last&quot;</span></code> which refers to the last menu item;</p></li>
<li><p>An integer preceded by <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>, as in <code class="docutils literal notranslate"><span class="pre">&#64;6</span></code>, where the integer is interpreted
as a y pixel coordinate in the menu's coordinate system;</p></li>
<li><p>the string <code class="docutils literal notranslate"><span class="pre">&quot;none&quot;</span></code>, which indicates no menu entry at all, most often used
with menu.activate() to deactivate all entries, and finally,</p></li>
<li><p>a text string that is pattern matched against the label of the menu entry, as
scanned from the top of the menu to the bottom.  Note that this index type is
considered after all the others, which means that matches for menu items
labelled <code class="docutils literal notranslate"><span class="pre">last</span></code>, <code class="docutils literal notranslate"><span class="pre">active</span></code>, or <code class="docutils literal notranslate"><span class="pre">none</span></code> may be interpreted as the above
literals, instead.</p></li>
</ul>
</dd>
</dl>
</div>
<div class="section" id="images">
<h3>Images<a class="headerlink" href="#images" title="永久链接至标题">¶</a></h3>
<p>Images of different formats can be created through the corresponding subclass
of <code class="xref py py-class docutils literal notranslate"><span class="pre">tkinter.Image</span></code>:</p>
<ul class="simple">
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">BitmapImage</span></code> for images in XBM format.</p></li>
<li><p><code class="xref py py-class docutils literal notranslate"><span class="pre">PhotoImage</span></code> for images in PGM, PPM, GIF and PNG formats. The latter
is supported starting with Tk 8.6.</p></li>
</ul>
<p>Either type of image is created through either the <code class="docutils literal notranslate"><span class="pre">file</span></code> or the <code class="docutils literal notranslate"><span class="pre">data</span></code>
option (other options are available as well).</p>
<p>The image object can then be used wherever an <code class="docutils literal notranslate"><span class="pre">image</span></code> option is supported by
some widget (e.g. labels, buttons, menus). In these cases, Tk will not keep a
reference to the image. When the last Python reference to the image object is
deleted, the image data is deleted as well, and Tk will display an empty box
wherever the image was used.</p>
<div class="admonition seealso">
<p class="admonition-title">参见</p>
<p>The <a class="reference external" href="http://python-pillow.org/">Pillow</a> package adds support for
formats such as BMP, JPEG, TIFF, and WebP, among others.</p>
</div>
</div>
</div>
<div class="section" id="file-handlers">
<span id="tkinter-file-handlers"></span><h2>File Handlers<a class="headerlink" href="#file-handlers" title="永久链接至标题">¶</a></h2>
<p>Tk allows you to register and unregister a callback function which will be
called from the Tk mainloop when I/O is possible on a file descriptor.
Only one handler may be registered per file descriptor. Example code:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">tkinter</span>
<span class="n">widget</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">Tk</span><span class="p">()</span>
<span class="n">mask</span> <span class="o">=</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">READABLE</span> <span class="o">|</span> <span class="n">tkinter</span><span class="o">.</span><span class="n">WRITABLE</span>
<span class="n">widget</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">createfilehandler</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">mask</span><span class="p">,</span> <span class="n">callback</span><span class="p">)</span>
<span class="o">...</span>
<span class="n">widget</span><span class="o">.</span><span class="n">tk</span><span class="o">.</span><span class="n">deletefilehandler</span><span class="p">(</span><span class="n">file</span><span class="p">)</span>
</pre></div>
</div>
<p>This feature is not available on Windows.</p>
<p>Since you don't know how many bytes are available for reading, you may not
want to use the <a class="reference internal" href="io.html#io.BufferedIOBase" title="io.BufferedIOBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">BufferedIOBase</span></code></a> or <a class="reference internal" href="io.html#io.TextIOBase" title="io.TextIOBase"><code class="xref py py-class docutils literal notranslate"><span class="pre">TextIOBase</span></code></a>
<a class="reference internal" href="io.html#io.BufferedIOBase.read" title="io.BufferedIOBase.read"><code class="xref py py-meth docutils literal notranslate"><span class="pre">read()</span></code></a> or <a class="reference internal" href="io.html#io.IOBase.readline" title="io.IOBase.readline"><code class="xref py py-meth docutils literal notranslate"><span class="pre">readline()</span></code></a> methods,
since these will insist on reading a predefined number of bytes.
For sockets, the <a class="reference internal" href="socket.html#socket.socket.recv" title="socket.socket.recv"><code class="xref py py-meth docutils literal notranslate"><span class="pre">recv()</span></code></a> or
<a class="reference internal" href="socket.html#socket.socket.recvfrom" title="socket.socket.recvfrom"><code class="xref py py-meth docutils literal notranslate"><span class="pre">recvfrom()</span></code></a> methods will work fine; for other files,
use raw reads or <code class="docutils literal notranslate"><span class="pre">os.read(file.fileno(),</span> <span class="pre">maxbytecount)</span></code>.</p>
<dl class="py method">
<dt id="tkinter.Widget.tk.createfilehandler">
<code class="sig-prename descclassname">Widget.tk.</code><code class="sig-name descname">createfilehandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em>, <em class="sig-param"><span class="n">mask</span></em>, <em class="sig-param"><span class="n">func</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tkinter.Widget.tk.createfilehandler" title="永久链接至目标">¶</a></dt>
<dd><p>Registers the file handler callback function <em>func</em>. The <em>file</em> argument
may either be an object with a <a class="reference internal" href="io.html#io.IOBase.fileno" title="io.IOBase.fileno"><code class="xref py py-meth docutils literal notranslate"><span class="pre">fileno()</span></code></a> method (such as
a file or socket object), or an integer file descriptor. The <em>mask</em>
argument is an ORed combination of any of the three constants below.
The callback is called as follows:</p>
<div class="highlight-python3 notranslate"><div class="highlight"><pre><span></span><span class="n">callback</span><span class="p">(</span><span class="n">file</span><span class="p">,</span> <span class="n">mask</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt id="tkinter.Widget.tk.deletefilehandler">
<code class="sig-prename descclassname">Widget.tk.</code><code class="sig-name descname">deletefilehandler</code><span class="sig-paren">(</span><em class="sig-param"><span class="n">file</span></em><span class="sig-paren">)</span><a class="headerlink" href="#tkinter.Widget.tk.deletefilehandler" title="永久链接至目标">¶</a></dt>
<dd><p>Unregisters a file handler.</p>
</dd></dl>

<dl class="py data">
<dt id="tkinter.READABLE">
<code class="sig-prename descclassname">tkinter.</code><code class="sig-name descname">READABLE</code><a class="headerlink" href="#tkinter.READABLE" title="永久链接至目标">¶</a></dt>
<dt id="tkinter.WRITABLE">
<code class="sig-prename descclassname">tkinter.</code><code class="sig-name descname">WRITABLE</code><a class="headerlink" href="#tkinter.WRITABLE" title="永久链接至目标">¶</a></dt>
<dt id="tkinter.EXCEPTION">
<code class="sig-prename descclassname">tkinter.</code><code class="sig-name descname">EXCEPTION</code><a class="headerlink" href="#tkinter.EXCEPTION" title="永久链接至目标">¶</a></dt>
<dd><p>Constants used in the <em>mask</em> arguments.</p>
</dd></dl>

</div>
</div>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code> —— Tcl/Tk 的 Python 接口</a><ul>
<li><a class="reference internal" href="#architecture">架构</a></li>
<li><a class="reference internal" href="#tkinter-modules">Tkinter 模块</a></li>
<li><a class="reference internal" href="#tkinter-life-preserver">Tkinter 拾遗</a><ul>
<li><a class="reference internal" href="#a-hello-world-program">A Hello World Program</a></li>
<li><a class="reference internal" href="#important-tk-concepts">Important Tk Concepts</a></li>
<li><a class="reference internal" href="#understanding-how-tkinter-wraps-tcl-tk">Understanding How Tkinter Wraps Tcl/Tk</a></li>
<li><a class="reference internal" href="#how-do-i-what-option-does">How do I...? What option does...?</a></li>
<li><a class="reference internal" href="#navigating-the-tcl-tk-reference-manual">Navigating the Tcl/Tk Reference Manual</a></li>
</ul>
</li>
<li><a class="reference internal" href="#threading-model">线程模型</a></li>
<li><a class="reference internal" href="#handy-reference">快速参考</a><ul>
<li><a class="reference internal" href="#setting-options">可选配置项</a></li>
<li><a class="reference internal" href="#the-packer">The Packer</a></li>
<li><a class="reference internal" href="#packer-options">包装器的参数</a></li>
<li><a class="reference internal" href="#coupling-widget-variables">部件与变量的关联</a></li>
<li><a class="reference internal" href="#the-window-manager">窗口管理器</a></li>
<li><a class="reference internal" href="#tk-option-data-types">Tk 参数的数据类型</a></li>
<li><a class="reference internal" href="#bindings-and-events">绑定和事件</a></li>
<li><a class="reference internal" href="#the-index-parameter">The index Parameter</a></li>
<li><a class="reference internal" href="#images">Images</a></li>
</ul>
</li>
<li><a class="reference internal" href="#file-handlers">File Handlers</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="tk.html"
                        title="上一章">Tk图形用户界面(GUI)</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="tkinter.colorchooser.html"
                        title="下一章"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter.colorchooser</span></code> --- 颜色选择对话框</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../bugs.html">提交 Bug</a></li>
      <li>
        <a href="https://github.com/python/cpython/blob/3.10/Doc/library/tkinter.rst"
            rel="nofollow">显示源代码
        </a>
      </li>
    </ul>
  </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>  
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python 模块索引"
             >模块</a> |</li>
        <li class="right" >
          <a href="tkinter.colorchooser.html" title="tkinter.colorchooser --- 颜色选择对话框"
             >下一页</a> |</li>
        <li class="right" >
          <a href="tk.html" title="Tk图形用户界面(GUI)"
             >上一页</a> |</li>

          <li><img src="../_static/py.svg" alt="python logo" style="vertical-align: middle; margin-top: -1px"/></li>
          <li><a href="https://www.python.org/">Python</a> &#187;</li>
          <li class="switchers">
            <div class="language_switcher_placeholder"></div>
            <div class="version_switcher_placeholder"></div>
          </li>
          <li>
              
          </li>
    <li id="cpython-language-and-version">
      <a href="../index.html">3.10.1 Documentation</a> &#187;
    </li>

          <li class="nav-item nav-item-1"><a href="index.html" >Python 标准库</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="tk.html" >Tk图形用户界面(GUI)</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href=""><code class="xref py py-mod docutils literal notranslate"><span class="pre">tkinter</span></code> —— Tcl/Tk 的 Python 接口</a></li>
                <li class="right">
                    

    <div class="inline-search" role="search">
        <form class="inline-search" action="../search.html" method="get">
          <input placeholder="快速搜索" aria-label="快速搜索" type="text" name="q" />
          <input type="submit" value="转向" />
          <input type="hidden" name="check_keywords" value="yes" />
          <input type="hidden" name="area" value="default" />
        </form>
    </div>
                     |
                </li>
            
      </ul>
    </div>  
    <div class="footer">
    &copy; <a href="../copyright.html">版权所有</a> 2001-2022, Python Software Foundation.
    <br />
    This page is licensed under the Python Software Foundation License Version 2.
    <br />
    Examples, recipes, and other code in the documentation are additionally licensed under the Zero Clause BSD License.
    <br />
    See <a href="">History and License</a> for more information.
    <br /><br />

    The Python Software Foundation is a non-profit corporation.
<a href="https://www.python.org/psf/donations/">Please donate.</a>
<br />
    <br />

    最后更新于 1月 05, 2022.
    <a href="https://docs.python.org/3/bugs.html">Found a bug</a>?
    <br />

    Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 3.2.1.
    </div>

  </body>
</html>